{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\netanel cohen\\\\Desktop\\\\gpt_site\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport axios from 'axios';\nimport { Button, Typography, TextField, Box, AppBar, Toolbar, Container } from '@mui/material';\nimport AdminDashboard from './AdminDashboard';\nimport TrainerDashboard from './TrainerDashboard';\nimport ClientDashboard from './ClientDashboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:5000');\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(null);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  useEffect(() => {\n    const savedUser = localStorage.getItem(\"user\");\n    const savedRole = localStorage.getItem(\"role\");\n    if (savedUser && savedRole) {\n      setUser(JSON.parse(savedUser));\n      setRole(savedRole);\n    }\n  }, []);\n  const login = async () => {\n    try {\n      const response = await axios.post('http://localhost:5000/login', {\n        username,\n        password\n      });\n      setUser(response.data.user);\n      setRole(response.data.user.role);\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n      localStorage.setItem('role', response.data.user.role);\n    } catch (error) {\n      console.error('🔴 שגיאה בהתחברות:', error);\n      alert('שם משתמש או סיסמה שגויים');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          sx: {\n            flexGrow: 1\n          },\n          children: \"\\uD83D\\uDC3E \\u05DE\\u05E2\\u05E8\\u05DB\\u05EA \\u05E0\\u05D9\\u05D4\\u05D5\\u05DC \\u05DE\\u05D0\\u05DC\\u05E4\\u05D9\\u05DD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), user && /*#__PURE__*/_jsxDEV(Button, {\n          color: \"inherit\",\n          onClick: () => {\n            setUser(null);\n            setRole(null);\n            localStorage.removeItem('token');\n            localStorage.removeItem('user');\n            localStorage.removeItem('role');\n          },\n          children: \"\\u05D4\\u05EA\\u05E0\\u05EA\\u05E7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), !user ? /*#__PURE__*/_jsxDEV(Box, {\n      textAlign: \"center\",\n      mt: 5,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\",\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        fullWidth: true,\n        sx: {\n          mb: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\",\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        fullWidth: true,\n        sx: {\n          mb: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: login,\n        children: \"\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this) : role === \"admin\" ? /*#__PURE__*/_jsxDEV(AdminDashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this) : role === \"trainer\" ? /*#__PURE__*/_jsxDEV(TrainerDashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(ClientDashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"470VTw3tUhgG8Kn+p9IAkTddjvk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","io","axios","Button","Typography","TextField","Box","AppBar","Toolbar","Container","AdminDashboard","TrainerDashboard","ClientDashboard","jsxDEV","_jsxDEV","socket","App","_s","user","setUser","role","setRole","username","setUsername","password","setPassword","savedUser","localStorage","getItem","savedRole","JSON","parse","login","response","post","data","setItem","token","stringify","error","console","alert","children","position","variant","sx","flexGrow","fileName","_jsxFileName","lineNumber","columnNumber","color","onClick","removeItem","textAlign","mt","label","value","onChange","e","target","fullWidth","mb","type","_c","$RefreshReg$"],"sources":["C:/Users/netanel cohen/Desktop/gpt_site/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport axios from 'axios';\nimport { Button, Typography, TextField, Box, AppBar, Toolbar, Container } from '@mui/material';\nimport AdminDashboard from './AdminDashboard';\nimport TrainerDashboard from './TrainerDashboard';\nimport ClientDashboard from './ClientDashboard';\n\nconst socket = io('http://localhost:5000');\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(null);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  useEffect(() => {\n    const savedUser = localStorage.getItem(\"user\");\n    const savedRole = localStorage.getItem(\"role\");\n    if (savedUser && savedRole) {\n      setUser(JSON.parse(savedUser));\n      setRole(savedRole);\n    }\n  }, []);\n\n  const login = async () => {\n    try {\n      const response = await axios.post('http://localhost:5000/login', { username, password });\n      setUser(response.data.user);\n      setRole(response.data.user.role);\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n      localStorage.setItem('role', response.data.user.role);\n    } catch (error) {\n      console.error('🔴 שגיאה בהתחברות:', error);\n      alert('שם משתמש או סיסמה שגויים');\n    }\n  };\n\n  return (\n    <Container>\n      {/* ✅ סרגל עליון משותף לכל המשתמשים */}\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\" sx={{ flexGrow: 1 }}>🐾 מערכת ניהול מאלפים</Typography>\n          {user && (\n            <Button color=\"inherit\" onClick={() => { \n              setUser(null); \n              setRole(null); \n              localStorage.removeItem('token'); \n              localStorage.removeItem('user'); \n              localStorage.removeItem('role'); \n            }}>\n              התנתק\n            </Button>\n          )}\n        </Toolbar>\n      </AppBar>\n\n      {!user ? (\n        <Box textAlign=\"center\" mt={5}>\n          <TextField label=\"שם משתמש\" value={username} onChange={(e) => setUsername(e.target.value)} fullWidth sx={{ mb: 2 }} />\n          <TextField label=\"סיסמה\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} fullWidth sx={{ mb: 2 }} />\n          <Button variant=\"contained\" onClick={login}>התחבר</Button>\n        </Box>\n      ) : role === \"admin\" ? (\n        <AdminDashboard />\n      ) : role === \"trainer\" ? (\n        <TrainerDashboard />\n      ) : (\n        <ClientDashboard />\n      )}\n    </Container>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}