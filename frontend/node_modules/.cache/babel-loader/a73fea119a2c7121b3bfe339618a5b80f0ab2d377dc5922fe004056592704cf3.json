{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\netanel cohen\\\\Desktop\\\\gpt_site\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport axios from 'axios';\nimport { Button, Typography, TextField, Box, AppBar, Toolbar, Container } from '@mui/material';\nimport AdminDashboard from './AdminDashboard';\nimport TrainerDashboard from './TrainerDashboard';\nimport ClientDashboard from './ClientDashboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:5000');\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(null);\n  const [message, setMessage] = useState('');\n  const [chat, setChat] = useState([]);\n  const [trainers, setTrainers] = useState([]);\n  const [clients, setClients] = useState([]);\n  const [selectedRecipient, setSelectedRecipient] = useState('');\n  const [typingUser, setTypingUser] = useState(null);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  useEffect(() => {\n    const savedUser = localStorage.getItem(\"user\");\n    const savedRole = localStorage.getItem(\"role\");\n    if (savedUser && savedRole) {\n      setUser(JSON.parse(savedUser));\n      setRole(savedRole);\n    }\n    const fetchData = async () => {\n      try {\n        const [messagesRes, trainersRes, clientsRes] = await Promise.all([axios.get('http://localhost:5000/chat/messages'), axios.get('http://localhost:5000/trainers'), axios.get('http://localhost:5000/clients')]);\n        setChat(messagesRes.data);\n        setTrainers(trainersRes.data);\n        setClients(clientsRes.data);\n      } catch (error) {\n        console.error(\" 砖 注转 转:\", error);\n      }\n    };\n    fetchData();\n    socket.on('receiveMessage', data => {\n      setChat(prevChat => [...prevChat, data]);\n    });\n    socket.on(\"userTyping\", data => {\n      setTypingUser(data.user);\n      setTimeout(() => setTypingUser(null), 3000);\n    });\n  }, []);\n  const login = async () => {\n    try {\n      const response = await axios.post('http://localhost:5000/login', {\n        username,\n        password\n      });\n      setUser(response.data.user);\n      setRole(response.data.user.role);\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n      localStorage.setItem('role', response.data.user.role);\n    } catch (error) {\n      console.error(' 砖 转专转:', error);\n      alert('砖 砖转砖  住住 砖');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          sx: {\n            flexGrow: 1\n          },\n          children: \"\\uD83D\\uDC3E \\u05DE\\u05E2\\u05E8\\u05DB\\u05EA \\u05E0\\u05D9\\u05D4\\u05D5\\u05DC \\u05DE\\u05D0\\u05DC\\u05E4\\u05D9\\u05DD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), !user ? /*#__PURE__*/_jsxDEV(Box, {\n      textAlign: \"center\",\n      mt: 5,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\",\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        fullWidth: true,\n        sx: {\n          mb: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\",\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        fullWidth: true,\n        sx: {\n          mb: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: login,\n        children: \"\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this) : role === \"admin\" ? /*#__PURE__*/_jsxDEV(AdminDashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 30\n    }, this) : role === \"trainer\" ? /*#__PURE__*/_jsxDEV(TrainerDashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 72\n    }, this) : /*#__PURE__*/_jsxDEV(ClientDashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 95\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ghrnmlIkL0Rgx+auCQmTqOjwo8w=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","io","axios","Button","Typography","TextField","Box","AppBar","Toolbar","Container","AdminDashboard","TrainerDashboard","ClientDashboard","jsxDEV","_jsxDEV","socket","App","_s","user","setUser","role","setRole","message","setMessage","chat","setChat","trainers","setTrainers","clients","setClients","selectedRecipient","setSelectedRecipient","typingUser","setTypingUser","username","setUsername","password","setPassword","savedUser","localStorage","getItem","savedRole","JSON","parse","fetchData","messagesRes","trainersRes","clientsRes","Promise","all","get","data","error","console","on","prevChat","setTimeout","login","response","post","setItem","token","stringify","alert","children","position","variant","sx","flexGrow","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","mt","label","value","onChange","e","target","fullWidth","mb","type","onClick","_c","$RefreshReg$"],"sources":["C:/Users/netanel cohen/Desktop/gpt_site/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport axios from 'axios';\nimport { Button, Typography, TextField, Box, AppBar, Toolbar, Container } from '@mui/material';\nimport AdminDashboard from './AdminDashboard';\nimport TrainerDashboard from './TrainerDashboard';\nimport ClientDashboard from './ClientDashboard';\n\nconst socket = io('http://localhost:5000');\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(null);\n  const [message, setMessage] = useState('');\n  const [chat, setChat] = useState([]);\n  const [trainers, setTrainers] = useState([]);\n  const [clients, setClients] = useState([]);\n  const [selectedRecipient, setSelectedRecipient] = useState('');\n  const [typingUser, setTypingUser] = useState(null);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  useEffect(() => {\n    const savedUser = localStorage.getItem(\"user\");\n    const savedRole = localStorage.getItem(\"role\");\n    if (savedUser && savedRole) {\n      setUser(JSON.parse(savedUser));\n      setRole(savedRole);\n    }\n\n    const fetchData = async () => {\n      try {\n        const [messagesRes, trainersRes, clientsRes] = await Promise.all([\n          axios.get('http://localhost:5000/chat/messages'),\n          axios.get('http://localhost:5000/trainers'),\n          axios.get('http://localhost:5000/clients'),\n        ]);\n        setChat(messagesRes.data);\n        setTrainers(trainersRes.data);\n        setClients(clientsRes.data);\n      } catch (error) {\n        console.error(\" 砖 注转 转:\", error);\n      }\n    };\n\n    fetchData();\n\n    socket.on('receiveMessage', (data) => {\n      setChat((prevChat) => [...prevChat, data]);\n    });\n\n    socket.on(\"userTyping\", (data) => {\n      setTypingUser(data.user);\n      setTimeout(() => setTypingUser(null), 3000);\n    });\n\n  }, []);\n\n  const login = async () => {\n    try {\n      const response = await axios.post('http://localhost:5000/login', { username, password });\n      setUser(response.data.user);\n      setRole(response.data.user.role);\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n      localStorage.setItem('role', response.data.user.role);\n    } catch (error) {\n      console.error(' 砖 转专转:', error);\n      alert('砖 砖转砖  住住 砖');\n    }\n  };\n\n  return (\n    <Container>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\" sx={{ flexGrow: 1 }}> 注专转  驻</Typography>\n        </Toolbar>\n      </AppBar>\n\n      {!user ? (\n        <Box textAlign=\"center\" mt={5}>\n          <TextField label=\"砖 砖转砖\" value={username} onChange={(e) => setUsername(e.target.value)} fullWidth sx={{ mb: 2 }} />\n          <TextField label=\"住住\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} fullWidth sx={{ mb: 2 }} />\n          <Button variant=\"contained\" onClick={login}>转专</Button>\n        </Box>\n      ) : role === \"admin\" ? <AdminDashboard /> : role === \"trainer\" ? <TrainerDashboard /> : <ClientDashboard />}\n    </Container>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}